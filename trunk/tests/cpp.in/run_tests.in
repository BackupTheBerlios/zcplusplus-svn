SUFFIXES h hpp
DESC runs regression tests for z_cpp.exe
DESC (C)2009 Kenneth Boyd, license: MIT.txt

PROLOG
VAR CPP ../../z_cpp
VAR CPP_ISO ../../z_cpp --pedantic
VAR CPP_SIGNMAG_NOTRAP ../../z_cpp --int-sign-magnitude
VAR CPP_ONESCOMP_NOTRAP ../../z_cpp --int-ones-complement

ECHO Checking ISO error requirements
ERROR CPP_ISO Error*
ERROR CPP_ISO UNICODE.C99/Error*
ERROR CPP_ISO define.C99/Error*
ERROR CPP_ISO defined.C99/Error*
ERROR CPP_ISO ifdef.C99/Error*
ERROR CPP_ISO if.C99/Error*
ERROR CPP_ISO pragma.C99/Error*

ECHO Checking ZCC warnings on ISO-accepted code
WARN CPP_ISO Warn*

ECHO Checking ISO acceptance requirements
PASS CPP_ISO Pass*
PASS CPP_ISO define.C99/Pass*
PASS CPP_ISO if.C99/Pass*

ECHO Checking ZCC implementation-defined errors and features
ERROR CPP default/Error*
ERROR CPP default/keywords/Error*
PASS CPP default/Pass*
PASS CPP_SIGNMAG_NOTRAP default/signmag.notrap/Pass*
PASS CPP_ONESCOMP_NOTRAP default/onescomp.notrap/Pass*

ECHO Checking ZCC nonconforming errors
ERROR CPP default.nonconforming/Error*

ECHO Checking ZCC content transforms
TEXTTRANSFORM CPP default/Preprocess*

EPILOG

